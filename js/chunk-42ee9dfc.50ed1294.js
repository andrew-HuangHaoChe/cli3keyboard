(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42ee9dfc"],{"0a65":function(t,e,a){"use strict";var s=a("5608"),r=a.n(s);r.a},1110:function(t,e,a){},"16bf":function(t,e,a){},"43c4":function(t,e,a){"use strict";var s=a("1110"),r=a.n(s);r.a},"4d8b":function(t,e,a){},5608:function(t,e,a){},"709b":function(t,e,a){"use strict";var s=a("4d8b"),r=a.n(s);r.a},"8bd6":function(t,e,a){"use strict";var s=a("16bf"),r=a.n(s);r.a},a99b:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SuccessMessage"),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top topnav"},[a("div",{staticClass:"container"},[t._m(0),a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logoImg",attrs:{src:"https://github.com/andrew-HuangHaoChe/image/blob/master/keyboardlogo.png?raw=true"}})]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto py-1 home-nav-icon align-items-start"},[a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-home fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("首頁")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/shopping"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-shopping-bag fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center homeFont"},[t._v("商品")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/promotion"},"active-class":"routerActive"}},[a("i",{staticClass:"fas fa-ticket-alt fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center icon"},[t._v("優惠")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("router-link",{attrs:{to:{path:"/login"},"active-class":"routerActive"}},[a("i",{staticClass:"far fa-user fa-2x d-flex justify-content-center"}),a("div",{staticClass:"d-flex justify-content-center icon"},[t._v("登入")])])],1),a("li",{staticClass:"nav-item pr-4 d-flex justify-content-start"},[a("div",{staticClass:"btn-group"},[a("div",{staticClass:"btn-group dropleft favIcon",attrs:{role:"group"}},[t._m(1),a("div",{staticClass:"dropdown-menu favorite-dropdown-menu"},t._l(t.navbarFavorite,(function(e){return a("div",{key:e.id,staticClass:"row drop-item-f px-4 py-1 favoriteList"},[a("div",{staticClass:"col-8 drop-item pl-1"},[t._v(t._s(e.title))]),a("div",{staticClass:"col-1 drop-item"},[a("i",{staticClass:"fas fa-shopping-cart",on:{click:function(a){return t.addtoCart(e.id)}}})])])})),0),0!==t.navbarFavorite.length?a("p",{staticClass:"favLength"},[a("span",{staticClass:"d-flex justify-content-center"},[t._v(t._s(t.navbarFavorite.length))])]):t._e()])])])])])],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler showMenu",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"d-flex flex-column align-items-start p-0 border-0 btn dropdown-toggle dropdown-toggle-split favBtn",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-heartbeat heartIcon"}),a("div",{staticClass:"homeFont"},[t._v("最愛")])])}],o=(a("99af"),a("4de4"),a("4160"),a("c975"),a("a434"),a("159b"),a("e956")),i={components:{SuccessMessage:o["a"]},data:function(){return{isrouActive:!1,navbarFavorite:[],favList:[]}},methods:{addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;a.$store.dispatch("cartsModules/addtoCart",{id:t,qty:e}),a.navbarFavorite.forEach((function(e,s){t===e.id&&(a.sliceIndex=s)})),a.navbarFavorite.splice(a.sliceIndex,1),localStorage.setItem("favlistinStorage",JSON.stringify(this.navbarFavorite))},getFavtitle:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("andrewhaoche","/products/all");t.$http.get(e).then((function(e){var a=e.data.products;a.filter((function(e){return-1!==t.navbarFavorite.indexOf(e.id)&&t.favList.push(e.title),e}))}))}},mounted:function(){this.getFavtitle()},created:function(){var t=this;t.$bus.$on("favorite",(function(e){t.navbarFavorite=e}))}},n=i,c=(a("0a65"),a("2877")),l=Object(c["a"])(n,s,r,!1,null,"c640c53c",null);e["a"]=l.exports},c27d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",{staticClass:"footer py-3 footerNav"},[a("div",{staticClass:"py-5 footerNav"},[a("ul",{staticClass:"d-flex justify-content-center list-unstyled"},[a("li",[a("i",{staticClass:"fab fa-facebook footerIcon px-2"})]),a("li",[a("i",{staticClass:"fab fa-github footerIcon px-2"})]),a("li",[a("i",{staticClass:"fab fa-instagram footerIcon px-2"})]),a("li",[a("i",{staticClass:"far fa-envelope footerIcon px-2"})])]),a("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("©Copright 2020 Hao Che")]),a("span",{staticClass:"d-flex justify-content-center text-primary"},[t._v("網頁內素材皆做為學習用途，無任何商業行為")])])])])}],o=(a("8bd6"),a("2877")),i={},n=Object(o["a"])(i,s,r,!1,null,"92341054",null);e["a"]=n.exports},c975:function(t,e,a){"use strict";var s=a("23e7"),r=a("4d64").indexOf,o=a("a640"),i=a("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=i("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?n.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},cc26:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status"},[a("ul",[a("li",{class:{"bg-primary":t.status>=1,"text-light":t.status>=1}},[a("p",[t._v("輸入訂單資料")])]),a("li",{class:{"bg-primary":t.status>=2,"text-light":t.status>=2}},[a("p",[t._v("確認付款")])]),a("li",{class:{"bg-primary":t.status>=3,"text-light":t.status>=3}},[a("p",[t._v("完成購物")])])])])},r=[],o={props:["status"]},i=o,n=(a("709b"),a("2877")),c=Object(n["a"])(i,s,r,!1,null,"e7688410",null);e["a"]=c.exports},e956:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible-success",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"success-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("div",{staticClass:"tickBlock d-flex justify-content-center align-items-center mt-2"},[a("svg",{attrs:{width:"50",height:"50"}},[a("circle",{staticClass:"circle",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",cx:"25",cy:"25",r:"21","stroke-linecap":"round",transform:"rotate(-20 30 30)"}}),a("polyline",{staticClass:"tick",attrs:{fill:"none",stroke:"#68E534","stroke-width":"5",points:"11,26,21,35,38,17","stroke-linecap":"round","stroke-linejoin":"round"}})])])])})),0)},r=[],o={name:"Navbar",data:function(){return{}},methods:{removeMessage:function(t){this.$store.dispatch("removeMessage",t)}},computed:{messages:function(){return this.$store.state.messages}}},i=o,n=(a("43c4"),a("2877")),c=Object(n["a"])(i,s,r,!1,null,null,null);e["a"]=c.exports},f45e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HomeNav",{staticClass:"pb-5"}),a("progressbar",{staticClass:"my-5 pt-5",attrs:{status:t.status}}),a("div",{staticClass:"container"},[a("section",[a("div",{staticClass:"row mt-3 d-flex justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("p",{staticClass:"h3 text-primary text-center"},[t._v("購物清單")]),0!==t.cart.final_total?a("div",{staticClass:"table-responsive py-2"},[a("table",{staticClass:"table table-lg"},[t._m(0),a("tbody",t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[a("td",{attrs:{width:"20%"}},[a("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){return t.removeCartItem(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),a("td",{staticClass:"pb-0",attrs:{width:"20%"}},[a("img",{staticClass:"img-fluid",staticStyle:{"max-width":"80px"},attrs:{src:e.product.imageUrl}}),t._v(t._s(e.imageUrl)+" ")]),a("td",{staticClass:"align-middle text-center",attrs:{width:"20%"}},[t._v(" "+t._s(e.product.title)+" "),e.coupon?a("div",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()]),a("td",{staticClass:"text-center align-middle",attrs:{width:"20%"}},[t._v(" "+t._s(e.qty)+" "+t._s(e.product.unit)+" ")]),a("td",{staticClass:"text-right align-middle",attrs:{width:"20%"}},[t._v(t._s(t._f("currency")(e.final_total)))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("總計: ")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"4"}},[t._v("折扣價:")]),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])])]):t._e(),a("div",{staticClass:"input-group mb-3 input-group-sm orderCoupon p-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control incoupon",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponcode}},[t._v(" 套用優惠碼 ")])])])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("h1",{staticClass:"text-primary h3 mb-4 text-center"},[t._v("訂單資訊")]),a("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("div",{staticClass:"my-2 row justify-content-center"},[a("form",{staticClass:"col-md-8",on:{submit:function(e){return e.preventDefault(),t.newOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("ValidationProvider",{attrs:{name:"郵件",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("ValidationProvider",{attrs:{name:"姓名",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"姓名",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("ValidationProvider",{attrs:{name:"電話",rules:"required|phone:8"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話",maxlength:"10"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("ValidationProvider",{attrs:{name:"地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",attrs:{disabled:s}},[t._v("送出訂單")])])])])]}}])})],1)])])]),a("Footer")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"border-0"}),a("th",{staticClass:"text-center border-0"},[t._v("已選擇商品")]),a("th",{staticClass:"text-center border-0"},[t._v("品項")]),a("th",{staticClass:"text-center border-0"},[t._v("數量")]),a("th",{staticClass:"text-center border-0"},[t._v("價格")])])}],o=(a("99af"),a("5530")),i=a("a99b"),n=a("c27d"),c=a("cc26"),l=a("2f62"),u={components:{HomeNav:i["a"],Footer:n["a"],progressbar:c["a"]},data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},orderId:"",order:{user:{}},status:1}},methods:Object(o["a"])({newOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("andrewhaoche","/order"),a=t.form;t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:a}).then((function(e){e.data.success&&t.$router.push("/checkout2/".concat(e.data.orderId)),t.$store.dispatch("updateLoading",!1)}))},addCouponcode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("andrewhaoche","/coupon"),a={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:a}).then((function(e){t.getCart(),t.$store.dispatch("updateLoading",!1)}))}},Object(l["b"])("cartsModules",["getCart","removeCartItem"])),computed:Object(o["a"])({},Object(l["c"])("cartsModules",["cart"])),created:function(){var t=this;t.getCart()}},d=u,f=a("2877"),v=Object(f["a"])(d,s,r,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-42ee9dfc.50ed1294.js.map